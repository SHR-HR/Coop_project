// Подключение файла с переменными из папки стилей с использованием пространства имен 'variables'
// Директива @use импортирует переменные SCSS для использования в этом файле
// 'as *' означает импорт всех переменных без необходимости использования префикса namespace
@use '../../../styles/abstracts/variables' as *;

/* Контейнер и подсказка сортировки */
// Стили для основного контейнера таблицы
.tableWrap {
    // Внешние отступы контейнера: 8px сверху, 0 справа и слева, 16px снизу
    // margin создает пространство вокруг всей таблицы
    margin: 8px 0 16px;
}

// Стили для подсказки о текущей сортировке
.sortHint {
    // Выравнивание текста по правому краю
    // right - текст прижимается к правому краю контейнера
    text-align: right;

    // Размер шрифта для подсказки
    // $font-size-sm - переменная SCSS, содержащая значение малого размера шрифта
    font-size: $font-size-sm;

    // Прозрачность текста - 70% от оригинальной непрозрачности
    // .7 - значение opacity, создает полупрозрачный эффект для второстепенной информации
    opacity: .7;

    // Внешний отступ снизу - 6px
    // margin-bottom создает пространство между подсказкой и таблицей
    margin-bottom: 6px;
}

/* Таблица */
// Стили для основной HTML таблицы
.table {
    // Ширина таблицы - 100% от ширины родительского контейнера
    // width: 100% обеспечивает растяжение таблицы на всю доступную ширину
    width: 100%;

    // Разделение границ ячеек таблицы
    // separate - каждая ячейка имеет собственные границы (не объединяются)
    border-collapse: separate;

    // Расстояние между границами ячеек таблицы
    // 0 - горизонтальное расстояние, 8px - вертикальное расстояние между строками
    border-spacing: 0 8px;

    // Стили для заголовков таблицы (thead th)
    thead th {
        // Выравнивание текста по левому краю
        // left - текст выравнивается по левому краю ячейки
        text-align: left;

        // Насыщенность шрифта - полужирное начертание
        // 600 - значение font-weight для semi-bold, выделяет заголовки столбцов
        font-weight: 600;

        // Внутренние отступы заголовков: 8px сверху и снизу, 10px слева и справа
        padding: 8px 10px;

        // Прозрачность текста - 80% от оригинальной непрозрачности
        // .8 - значение opacity, создает мягкий контраст с содержимым
        opacity: .8;

        // Цвет фона заголовков - светло-голубоватый оттенок
        // #fbfdff - hex-код цвета в формате RGB, создает мягкий голубой фон
        background: #fbfdff;

        // Липкое позиционирование заголовков при прокрутке
        // sticky - элемент становится липким при достижении заданной позиции
        position: sticky;

        // Позиция прилипания - сверху (0px от верха)
        // top: 0 означает что заголовок прилипнет к верхнему краю при прокрутке
        top: 0;

        // Z-индекс для управления порядком наложения
        // z-index: 1 обеспечивает что заголовок будет поверх содержимого при прокрутке
        z-index: 1;
    }

    // Стили для ячеек тела таблицы (tbody td)
    tbody td {
        // Цвет фона ячеек
        // $bg-color - переменная SCSS, содержащая основной цвет фона из файла variables
        background: $bg-color;

        // Граница ячеек толщиной 1px сплошная
        // $border-color - переменная SCSS, содержащая цвет границы из файла variables
        border: 1px solid $border-color;

        // Внутренние отступы ячеек: 10px со всех сторон
        padding: 10px;

        // Вертикальное выравнивание содержимого ячеек по середине
        // middle - содержимое выравнивается по вертикали по центру ячейки
        vertical-align: middle;
    }

    // Стили для строк тела таблицы (tbody tr)
    tbody tr {
        // Тень для строк таблицы
        // $shadow-sm - переменная SCSS, содержащая значение малой тени из файла variables
        box-shadow: $shadow-sm;
    }
}

/* Подсветка своей строки */
// Стили для выделения строки текущего пользователя
.meRow td {
    // Внутренняя тень для визуального выделения строки текущего пользователя
    // 0 0 0 2px - тень без смещения с размытием 0 и растяжением 2px
    // rgba(26, 188, 156, .12) - цвет тени (бирюзовый) с прозрачностью 12%
    // inset - ключевое слово, указывающее что тень должна быть внутри элемента
    box-shadow: 0 0 0 2px rgba(26, 188, 156, .12) inset;
}

/* Колонки фиксированной ширины */
// Стили для колонки с номерами (позициями)
.colNum {
    // Фиксированная ширина колонки - 52 пикселя
    // width: 52px обеспечивает компактную колонку для номеров
    width: 52px;

    // Выравнивание текста по центру с принудительным применением !important
    // center - текст выравнивается по центру ячейки
    // !important гарантирует что это свойство переопределит другие стили выравнивания
    text-align: center !important;
}

// Стили для колонки с прогресс-баром
.colBar {
    // Фиксированная ширина колонки - 260 пикселей
    // width: 260px обеспечивает достаточно места для прогресс-бара
    // Комментарий "/* было 240 */" указывает что ранее ширина была 240px
    width: 260px;
    /* было 240 */
}

/* Ячейка «Имя» с аватаром и бейджами */
// Стили для ячейки с информацией о пользователе
.userCell {
    // Установка элемента как flex-контейнера
    // display: flex создает flex-контекст для дочерних элементов
    display: flex;

    // Выравнивание дочерних элементов по вертикали по центру
    // center - выравнивает элементы по центру вдоль поперечной оси
    align-items: center;

    // Расстояние между дочерними элементами (аватар и информация)
    // 12px - фиксированное расстояние между аватаром и блоком с именем
    // Комментарий "/* было 10 */" указывает что ранее расстояние было 10px
    gap: 12px;
    /* было 10 */

    // Минимальная ширина ячейки - 260 пикселей
    // min-width гарантирует что ячейка не станет уже этого значения
    // Комментарий поясняет что ширина учитывает аватар 44px и бейджи
    min-width: 260px;
    /* запас под 44px аватар + бейджи */
}

// Стили для аватара пользователя
.ava {
    // Ширина аватара - 44 пикселя
    // Комментарий "/* было 36 */" указывает что ранее размер был 36px
    width: 44px;
    /* было 36 */

    // Высота аватара - 44 пикселя
    // Комментарий "/* было 36 */" указывает что ранее размер был 36px
    height: 44px;
    /* было 36 */

    // Скругление углов аватара
    // $radius-md - переменная SCSS, содержащая значение среднего радиуса скругления
    border-radius: $radius-md;

    // Способ обрезки изображения для заполнения контейнера
    // cover - изображение масштабируется чтобы заполнить весь контейнер, сохраняя пропорции
    object-fit: cover;

    // Flex свойства: не растягивается, не сжимается, авто размер
    // 0 - flex-grow (не растягивается), 0 - flex-shrink (не сжимается), auto - базовый размер
    flex: 0 0 auto;

    // Граница аватара толщиной 1px сплошная
    // $border-color - переменная SCSS, содержащая цвет границы из файла variables
    border: 1px solid $border-color;
}

// Стили для контейнера имени и бейджей
.nameBox {
    // Установка элемента как flex-контейнера с вертикальным направлением
    // display: flex создает flex-контекст для дочерних элементов
    display: flex;

    // Направление расположения flex-элементов - вертикальная колонка
    // column - располагает дочерние элементы вертикально сверху вниз
    flex-direction: column;

    // Расстояние между дочерними flex-элементами (имя и бейджи)
    // 4px - фиксированное расстояние между именем и блоком бейджей
    gap: 4px;

    // Минимальная ширина контейнера - 0
    // min-width: 0 позволяет контейнеру сжиматься при нехватке пространства
    min-width: 0;
}

// Стили для имени пользователя
.name {
    // Цвет текста для имени пользователя
    // $text-color - переменная SCSS, содержащая значение основного цвета текста
    color: $text-color;

    // Запрет переноса текста на новую строку
    // nowrap - значение, которое предотвращает разрыв текста имени
    white-space: nowrap;

    // Скрытие содержимого, выходящего за границы контейнера
    // hidden - обрезает текст который не помещается в контейнер по ширине
    overflow: hidden;

    // Добавление многоточия (...) в конце обрезанного текста
    // ellipsis - значение, которое показывает многоточие когда текст обрезан
    text-overflow: ellipsis;
}

// Стили для контейнера бейджей
.badges {
    // Установка элемента как inline-flex контейнера
    // inline-flex позволяет элементу вести себя как строчный элемент с flex-возможностями
    display: inline-flex;

    // Разрешение переноса flex-элементов на новую строку
    // wrap - позволяет бейджам переноситься на новую строку при нехватке места
    flex-wrap: wrap;

    // Расстояние между бейджами
    // 6px - фиксированное расстояние между отдельными бейджами
    gap: 6px;
}

/* Прогресс-бар в последней колонке */
// Стили для контейнера прогресс-бара
.bar {
    // Ширина прогресс-бара - 100% от ширины родительской ячейки
    // width: 100% обеспечивает растяжение на всю ширину колонки
    width: 100%;

    // Высота прогресс-бара - 8 пикселей
    // height: 8px создает тонкую полосу прогресса
    height: 8px;

    // Цвет фона прогресс-бара - светло-серый
    // #eef2f4 - hex-код цвета в формате RGB, нейтральный серо-голубой оттенок
    background: #eef2f4;

    // Скругление углов прогресс-бара для создания округлой формы
    // 999px - очень большое значение, создающее эффект "капсулы"
    border-radius: 999px;

    // Относительное позиционирование для дочерних элементов
    // relative - создает контекст позиционирования для абсолютно позиционированных детей
    position: relative;

    // Скрытие содержимого, выходящего за границы контейнера
    // hidden - обрезает заполненную часть которая выходит за границы
    overflow: hidden;

    // Граница прогресс-бара толщиной 1px сплошная
    // $border-color - переменная SCSS, содержащая цвет границы из файла variables
    border: 1px solid $border-color;
}

// Стили для заполненной части прогресс-бара
.barFill {
    // Абсолютное позиционирование относительно родителя с position: relative
    // absolute - элемент позиционируется относительно ближайшего позиционированного предка
    position: absolute;

    // Позиционирование от левого края родителя
    // left: 0 - начинается от левого края прогресс-бара
    left: 0;

    // Позиционирование от верхнего края родителя
    // top: 0 - начинается от верхнего края прогресс-бара
    top: 0;

    // Позиционирование от нижнего края родителя
    // bottom: 0 - растягивается до нижнего края прогресс-бара
    bottom: 0;

    // Начальная ширина заполненной части - 0%
    // width: 0% - изначально прогресс-бар пустой
    // Это значение переопределяется inline стилем в компоненте
    width: 0%;

    // Цвет заполненной части прогресс-бара - оранжевый
    // #f39c12 - hex-код цвета в формате RGB, теплый оранжевый оттенок
    background: #f39c12;
}

/* Кликабельные заголовки */
// Стили для сортируемых заголовков столбцов
.sortable {
    // Изменение курсора при наведении на указатель (рука)
    // pointer - курсор в виде руки, указывает что элемент кликабельный
    cursor: pointer;

    // Запрет выделения текста при кликах
    // none - текст заголовка нельзя выделить мышью
    user-select: none;
}

// Стили для сортируемых заголовков при наведении курсора
.sortable:hover {
    // Подчеркивание текста при наведении
    // underline - добавляет подчеркивание, визуально указывая на интерактивность
    text-decoration: underline;
}

// =====================================================
// ПОЯСНЕНИЯ К КОММЕНТАРИЯМ В КОДЕ:
// =====================================================

// 1. СТРУКТУРА ТАБЛИЦЫ:
//    - .tableWrap - основной контейнер всей таблицы
//    - .sortHint - подсказка о текущей сортировке
//    - .table - стили основной HTML таблицы
//    - Специфичные стили для thead, tbody, th, td

// 2. ТАБЛИЧНАЯ ВЕРСТКА:
//    - border-collapse: separate - раздельные границы ячеек
//    - border-spacing: 0 8px - вертикальные отступы между строками
//    - position: sticky для thead th - липкие заголовки при прокрутке

// 3. ВИЗУАЛЬНОЕ ВЫДЕЛЕНИЕ:
//    - .meRow td - подсветка строки текущего пользователя бирюзовой тенью
//    - box-shadow для tbody tr - тень вокруг каждой строки для глубины
//    - background: #fbfdff для thead th - легкий фон заголовков

// 4. FLEXBOX ЛAYOUT:
//    - .userCell использует flex для горизонтального расположения аватара и информации
//    - .nameBox использует flex-column для вертикального расположения имени и бейджей
//    - .badges использует inline-flex с wrap для адаптивных бейджей

// 5. РАЗМЕРЫ И ПРОПОРЦИИ:
//    - .colNum: 52px - компактная колонка для номеров
//    - .colBar: 260px (было 240) - широкая колонка для прогресс-бара
//    - .ava: 44x44px (было 36x36) - увеличенные аватары
//    - .userCell min-width: 260px - минимальная ширина для комфортного отображения

// 6. ТИПОГРАФИКА И ТЕКСТ:
//    - .name с text-overflow: ellipsis - обрезка длинных имен
//    - .sortHint с opacity: .7 - полупрозрачный текст для подсказок
//    - thead th с font-weight: 600 - полужирные заголовки

// 7. ИНТЕРАКТИВНОСТЬ:
//    - .sortable с cursor: pointer - указатель для кликабельных заголовков
//    - .sortable:hover с text-decoration: underline - подчеркивание при наведении
//    - user-select: none - запрет выделения текста заголовков

// 8. ПРОГРЕСС-БАР:
//    - .bar с border-radius: 999px - полностью скругленная полоса
//    - .barFill с position: absolute - заполненная часть позиционируется абсолютно
//    - background: #f39c12 - оранжевый цвет для заполненной части
//    - overflow: hidden - скрытие выходящей за границы заполненной части