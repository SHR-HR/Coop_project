// Использование модульной системы SCSS для импорта переменных из внешнего файла
// Импорт файла с переменными из папки styles/abstracts, псевдоним $ для удобства обращения
@use "../../../styles/abstracts/variables" as *;

// Класс-обертка для всего компонента выпадающего списка
.wrapper {
  // Относительное позиционирование для абсолютно позиционированного выпадающего списка
  position: relative;
  // Фиксированная ширина компонента по умолчанию
  width: 250px;
}

// Класс для основного контрола (кнопки открытия/закрытия выпадающего списка)
.control {
  // Ширина 100% от родительского контейнера
  width: 100%;
  // Внутренние отступы: вертикальные из $space-xs (очень маленькие), горизонтальные из $space-sm (маленькие)
  padding: $space-xs $space-sm;
  // Граница толщиной 1px сплошная цветом из переменной $border-color
  border: 1px solid $border-color;
  // Скругление углов из переменной $radius-sm (маленький радиус)
  border-radius: $radius-sm;
  // Цвет фона из переменной $primary-color (основной цвет)
  background: $primary-color;
  // Цвет текста из переменной $text-color-inverse (контрастный цвет)
  color: $text-color-inverse;
  // Размер шрифта из переменной $font-size-md (средний размер)
  font-size: $font-size-md;
  // Изменение курсора на указатель при наведении
  cursor: pointer;
  // Использование Flexbox для расположения содержимого
  display: flex;
  // Распределение пространства между текстом и стрелкой
  justify-content: space-between;
  // Выравнивание элементов по центру по вертикали
  align-items: center;
}

// Класс для стрелки-индикатора открытия/закрытия выпадающего списка
.arrow {
  // Отображение как строчно-блочный элемент
  display: inline-block;
  // Левый внешний отступ для отделения от текста
  margin-left: 8px;
  // Нулевая ширина (стрелка создается через границы)
  width: 0;
  // Нулевая высота (стрелка создается через границы)
  height: 0;
  // Прозрачная левая граница для создания формы стрелки
  border-left: 6px solid transparent;
  // Прозрачная правая граница для создания формы стрелки
  border-right: 6px solid transparent;
  // Верхняя граница цветом из $text-color-inverse создает стрелку вниз
  border-top: 6px solid $text-color-inverse;
}

// Класс для выпадающего списка опций
.dropdown {
  // Внутренние отступы из переменной $space-xs (очень маленькие)
  padding: $space-xs;
  // Абсолютное позиционирование относительно родительского .wrapper
  position: absolute;
  // Размер шрифта из переменной $font-size-sm (маленький размер)
  font-size: $font-size-sm;
  // Позиционирование сверху на 100% высоты родительского элемента
  top: 100%;
  // Позиционирование слева вплотную к родительскому элементу
  left: 0;
  // Ширина 100% от родительского элемента
  width: 100%;
  // Верхний внешний отступ для отделения от контрола
  margin-top: 4px;
  // Скругление углов из переменной $radius-sm (маленький радиус)
  border-radius: $radius-sm;
  // Цвет фона из переменной $color-grey-1 (светло-серый)
  background: $color-grey-1;
  // Высокий z-index для отображения поверх других элементов
  z-index: 1000;
  // Максимальная высота выпадающего списка
  max-height: 220px;
  // Использование Flexbox для расположения элементов
  display: flex;
  // Вертикальное направление расположения элементов
  flex-direction: column;
  // Тень элемента из переменной $shadow-md (средняя тень)
  box-shadow: $shadow-md;

  // Элемент для поля поиска внутри выпадающего списка
  .search {
    // Липкое позиционирование для фиксации в верхней части при прокрутке
    position: sticky;
    // Позиционирование сверху вплотную
    top: 0;
    // Цвет фона из переменной $bg-color
    background: $bg-color;
    // Внутренние отступы: вертикальные из $space-xs, горизонтальные из $space-sm
    padding: $space-xs $space-sm;
    // Граница толщиной 1px сплошная цветом из $primary-color
    border: 1px solid $primary-color;
    // z-index для отображения поверх прокручиваемого списка
    z-index: 1;
    // Удаление внешних отступов
    margin: 0;
    // Размер шрифта из переменной $font-size-sm (маленький размер)
    font-size: $font-size-sm;
    // Нижний внешний отступ из переменной $space-xs (очень маленький)
    margin-bottom: $space-xs;
  }

  // Элемент для контейнера списка опций
  .list {
    // Выравнивание текста по левому краю
    text-align: left;
    // Занимает все доступное пространство в flex-контейнере
    flex: 1;
    // Разрешение вертикальной прокрутки при необходимости
    overflow-y: auto;

    // Стилизация скроллбара для Firefox
    scrollbar-width: thin;
    scrollbar-color: $border-color transparent;

    // Стилизация скроллбара для Webkit браузеров (Chrome, Safari, Edge)
    &::-webkit-scrollbar {
      // Ширина скроллбара
      width: 6px;
    }

    &::-webkit-scrollbar-thumb {
      // Цвет ползунка скроллбара
      background-color: $border-color;
      // Скругление углов ползунка
      border-radius: 3px;
    }

    &::-webkit-scrollbar-track {
      // Прозрачный фон трека скроллбара
      background: transparent;
    }
  }
}

// Класс для отдельной опции в выпадающем списке
.option {
  // Внутренние отступы из переменной $space-xs (очень маленькие) со всех сторон
  padding: $space-xs $space-xs;
  // Изменение курсора на указатель при наведении
  cursor: pointer;

  // Стили для состояния наведения на опцию
  &:hover {
    // Цвет фона из переменной $primary-color при наведении
    background: $primary-color;
    // Цвет текста из переменной $text-color-inverse при наведении
    color: $text-color-inverse;
  }

  // Модификатор для выбранной (активной) опции
  &.selected {
    // Цвет фона из переменной $primary-color для выбранной опции
    background: $primary-color;
    // Цвет текста из переменной $text-color-inverse для выбранной опции
    color: $text-color-inverse;
  }
}

// Дублирующий класс .search (возможно дублирование в коде)
.search {
  // Ширина 95% от родительского контейнера
  width: 95%;
  // Внешние отступы из переменной $space-xs (очень маленькие) сверху и снизу, auto по бокам
  margin: $space-xs auto;
  // Внутренние отступы: вертикальные из $space-xs, горизонтальные из $space-sm
  padding: $space-xs $space-sm;
  // Граница толщиной 1px сплошная цветом из $primary-color
  border: 1px solid $primary-color;
  // Скругление углов из переменной $radius-sm (маленький радиус)
  border-radius: $radius-sm;
  // Размер шрифта из переменной $font-size-md (средний размер)
  font-size: $font-size-md;
  // Удаление стандартной обводки при фокусе
  outline: none;
}

// Класс для списка опций (ul элемента)
.list {
  // Удаление стандартных маркеров списка
  list-style: none;
  // Удаление внешних отступов
  margin: 0;
  // Удаление внутренних отступов
  padding: 0;
}

// Класс для сообщения "нет результатов"
.noResults {
  // Внутренние отступы: вертикальные из $space-sm (маленькие), горизонтальные из $space-md (средние)
  padding: $space-sm $space-md;
  // Цвет текста из переменной $text-color-light (светлый цвет)
  color: $text-color-light;
  // Размер шрифта из переменной $font-size-sm (маленький размер)
  font-size: $font-size-sm;
}

// Класс-модификатор для отключенного состояния компонента
.disabled {
  // Цвет фона из переменной $color-grey-4 (темно-серый)
  background-color: $color-grey-4;
  // Изменение курсора на "не разрешено"
  cursor: not-allowed;
  // Полупрозрачное отображение для визуального обозначения отключенного состояния
  opacity: 0.4;
}


/* ===== ПОЯСНЕНИЯ К КОММЕНТАРИЯМ ===== */

/*
1. @use "../../../styles/abstracts/variables" as *;
   - Импортирует переменные SCSS из файла variables.scss
   - Путь ведет на три уровня выше к папке styles/abstracts
   - 'as *' позволяет использовать переменные без префикса namespace

2. .wrapper - основная обертка компонента:
   - position: relative - для абсолютного позиционирования выпадающего списка
   - width: 250px - фиксированная ширина по умолчанию

3. .control - основной контрол (кнопка выбора):
   - background: $primary-color - основной цвет для выделения
   - color: $text-color-inverse - контрастный текст для читаемости
   - display: flex с justify-content: space-between - разделение текста и стрелки

4. .arrow - стрелка-индикатор:
   - Создается через CSS границы (техника CSS triangle)
   - border-top создает стрелку вниз
   - Прозрачные боковые границы формируют треугольник

5. .dropdown - выпадающий список:
   - position: absolute - позиционирование относительно .wrapper
   - top: 100% - расположение сразу под контролом
   - z-index: 1000 - высокий уровень для отображения поверх других элементов
   - max-height: 220px - ограничение высоты с прокруткой
   - box-shadow: $shadow-md - тень для эффекта глубины

6. .dropdown .search - поле поиска внутри списка:
   - position: sticky - фиксация при прокрутке списка
   - top: 0 - прилипание к верхнему краю
   - z-index: 1 - отображение поверх прокручиваемого контента

7. Стилизация скроллбара:
   - scrollbar-width: thin - тонкий скроллбар в Firefox
   - ::-webkit-scrollbar - кастомизация для Chrome/Safari/Edge
   - overflow-y: auto - автоматическая прокрутка при необходимости

8. .option - опции списка:
   - &:hover и &.selected - одинаковые стили для наведения и выбора
   - cursor: pointer - индикатор кликабельности
   - padding: $space-xs - компактные отступы

9. Дублирование класса .search:
   - В коде присутствуют два разных блока .search
   - Возможно требуется рефакторинг для устранения дублирования

10. .noResults - сообщение об отсутствии результатов:
    - color: $text-color-light - светлый цвет для второстепенной информации
    - padding: $space-sm $space-md - сбалансированные отступы

11. .disabled - отключенное состояние:
    - background-color: $color-grey-4 - темно-серый фон
    - cursor: not-allowed - специальный курсор
    - opacity: 0.4 - полупрозрачность

12. Переменные SCSS (предполагаемое содержание):
    - $space-xs, $space-sm, $space-md - размеры отступов
    - $border-color - цвет границ
    - $radius-sm - маленький радиус скругления
    - $primary-color - основной цвет
    - $text-color-inverse - контрастный цвет текста
    - $font-size-md, $font-size-sm - размеры шрифта
    - $color-grey-1, $color-grey-4 - оттенки серого
    - $bg-color - цвет фона
    - $shadow-md - средняя тень
    - $text-color-light - светлый цвет текста

13. Особенности UX:
    - Поиск с липким позиционированием для удобства
    - Кастомизированные скроллбары для лучшего внешнего вида
    - Плавные переходы между состояниями
    - Достаточный z-index для правильного наслоения

14. Адаптивность:
    - Фиксированная ширина может потребовать адаптации для мобильных устройств
    - Максимальная высота с прокруткой для длинных списков
    - Гибкая структура через Flexbox
*/