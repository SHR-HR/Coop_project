// Использование модульной системы SCSS для импорта переменных из внешнего файла
// Импорт файла с переменными из папки styles/abstracts, псевдоним $ для удобства обращения
@use "../../../styles/abstracts/variables" as *;

// Класс для оверлея модального окна (полупрозрачный фон)
.modalOverlay {
  // Позиционирование слева вплотную к краю
  left: 0;
  // Позиционирование сверху вплотную к краю
  top: 0;
  // Ширина 100% от ширины области просмотра (viewport width)
  width: 100vw;
  // Высота 100% от высоты области просмотра (viewport height)
  height: 100vh;
  // Полупрозрачный черный фон с прозрачностью 85%
  background: rgba(0, 0, 0, 0.85);
  // Высокий z-index для отображения поверх других элементов
  z-index: 100;
  // Абсолютное позиционирование относительно ближайшего позиционированного предка
  position: absolute;
}

// Класс для фонового контейнера модального окна
.modalBackground {
  // Позиционирование слева вплотную к краю
  left: 0;
  // Позиционирование сверху вплотную к краю
  top: 0;
  // Ширина 100% от ширины области просмотра
  width: 100vw;
  // Высота 100% от высоты области просмотра
  height: 100vh;
  // Абсолютное позиционирование
  position: absolute;
  // Использование Flexbox для центрирования содержимого
  display: flex;
  // Выравнивание элементов по центру по вертикали
  align-items: center;
  // Выравнивание элементов по центру по горизонтали
  justify-content: center;
  // Внутренние отступы по всем сторонам
  padding: 24px;
  // Учет padding и border в общей ширине и высоте элемента
  box-sizing: border-box;
  // Разрешение вертикальной прокрутки при необходимости
  overflow-y: auto;
}

// Класс для контейнера формы модального окна
.formContainer {
  // Относительное позиционирование для внутренних абсолютно позиционированных элементов
  position: relative;
  // Фиксированная ширина контейнера
  width: 400px;
  // Максимальная ширина с учетом отступов (100% минус 48px)
  max-width: calc(100% - 48px);
  // Автоматическая высота в зависимости от содержимого
  height: auto;
  // Скругление углов контейнера
  border-radius: 12px;
  // Полупрозрачный белый фон с прозрачностью 80%
  background-color: rgba(255, 255, 255, 0.80);
  // Цвет текста - полупрозрачный черный
  color: rgba(0, 0, 0, 0.85);
  // z-index выше чем у оверлея для отображения поверх него
  z-index: 101;
  // Внутренние отступы контейнера
  padding: 20px;
  // Учет padding в общей ширине и высоте
  box-sizing: border-box;
  // Тень контейнера для эффекта глубины
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);

  // Элемент для кнопки закрытия модального окна
  &__closeModal {
    // Фиксированная ширина кнопки закрытия
    width: 32px;
    // Фиксированная высота кнопки закрытия
    height: 32px;
    // Абсолютное позиционирование относительно .formContainer
    position: absolute;
    // Позиционирование сверху с отступом
    top: 12px;
    // Позиционирование справа с отступом
    right: 12px;
    // Плавный переход для transform свойства
    transition: transform 0.2s ease-in-out;
    // Очень высокий z-index для отображения поверх всего содержимого
    z-index: 999;

    // Стили для состояния наведения на кнопку закрытия
    &:hover {
      // Изменение курсора на указатель
      cursor: pointer;
      // Увеличение масштаба кнопки на 10%
      transform: scale(1.1);
    }
  }

  // Элемент для отображения ошибок
  &__error {
    // Цвет текста из переменной $danger-color (красный)
    color: $danger-color;
    // Размер шрифта для текста ошибки
    font-size: 16px;
    // Средняя жирность шрифта для выделения
    font-weight: 500;
    // Относительное позиционирование
    position: relative;
    // Отображение как блочный элемент
    display: block;
    // Верхний внешний отступ
    margin-top: 6px;
    // Выравнивание текста по центру
    text-align: center;
  }

  // Элемент для контейнера формы
  &__form {
    // Ширина 100% от родительского контейнера
    width: 100%;
    // Высота 100% от родительского контейнера
    height: 100%;
    // Относительное позиционирование
    position: relative;
    // Использование Flexbox для расположения элементов формы
    display: flex;
    // Вертикальное направление расположения элементов
    flex-direction: column;
    // Запрет переноса элементов на новую строку
    flex-wrap: nowrap;
    // Выравнивание элементов по центру по горизонтали
    align-items: center;
    // Расстояние между дочерними элементами формы
    gap: 18px;
    // Верхний внутренний отступ
    padding-top: 6px;
    // Учет padding в общей ширине и высоте
    box-sizing: border-box;

    // Элемент для заголовка формы
    &__title {
      // Размер шрифта заголовка
      font-size: 24px;
      // Полужирное начертание для заголовка
      font-weight: 600;
      // Выравнивание текста по центру
      text-align: center;
      // Вертикальные внешние отступы
      margin: 6px 0;
    }
  }
}

// Медиа-запрос для больших планшетов и маленьких десктопов
@media (max-width: $breakpoint-lg) {

  // Адаптивные стили для контейнера формы
  .formContainer {
    // Уменьшенная ширина для адаптации
    width: 380px;
    // Уменьшенные внутренние отступы
    padding: 18px;

    // Адаптивные стили для формы
    &__form {
      // Уменьшенное расстояние между элементами
      gap: 16px;
    }

    // Адаптивные стили для кнопки закрытия
    &__closeModal {
      // Скорректированная позиция сверху
      top: 10px;
      // Скорректированная позиция справа
      right: 10px;
    }
  }
}

// Медиа-запрос для планшетов
@media (max-width: $breakpoint-md) {

  // Адаптивные стили для контейнера формы
  .formContainer {
    // Уменьшенная ширина для планшетов
    width: 340px;
    // Уменьшенные внутренние отступы
    padding: 16px;
    // Уменьшенное скругление углов
    border-radius: 10px;

    // Адаптивные стили для формы
    &__form {
      // Уменьшенное расстояние между элементами
      gap: 14px;
    }

    // Адаптивные стили для кнопки закрытия
    &__closeModal {
      // Уменьшенный размер кнопки
      width: 28px;
      // Уменьшенный размер кнопки
      height: 28px;
      // Скорректированная позиция сверху
      top: 10px;
      // Скорректированная позиция справа
      right: 10px;
    }
  }
}

// Медиа-запрос для мобильных устройств
@media (max-width: $breakpoint-sm) {

  // Адаптивные стили для фонового контейнера
  .modalBackground {
    // Центрирование по вертикали
    align-items: center;
    // Центрирование по горизонтали
    justify-content: center;
    // Удаление внутренних отступов для мобильных
    padding: 0;
  }

  // Адаптивные стили для контейнера формы на мобильных
  .formContainer {
    // Ширина 100% от доступного пространства
    width: 100%;
    // Максимальная ширина 100%
    max-width: 100%;
    // Скругление только верхних углов для модального снизу
    border-radius: 12px 12px 0 0;
    // Уменьшенные внутренние отступы
    padding: 14px;
    // Удаление внешних отступов
    margin: 0;
    // Тень сверху для эффекта "всплывающего" окна
    box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.25);

    // Адаптивные стили для кнопки закрытия на мобильных
    &__closeModal {
      // Скорректированная позиция сверху
      top: 10px;
      // Скорректированная позиция справа
      right: 12px;
      // Уменьшенный размер кнопки
      width: 28px;
      // Уменьшенный размер кнопки
      height: 28px;
    }

    // Адаптивные стили для формы на мобильных
    &__form {
      // Растягивание элементов на всю ширину
      align-items: stretch;
      // Уменьшенное расстояние между элементами
      gap: 12px;
    }

    // Адаптивные стили для ошибок на мобильных
    &__error {
      // Выравнивание текста по левому краю для лучшей читаемости
      text-align: left;
    }
  }
}





/* ===== ПОЯСНЕНИЯ К КОММЕНТАРИЯМ ===== */

/*
1. @use "../../../styles/abstracts/variables" as *;
   - Импортирует переменные SCSS из файла variables.scss
   - Путь ведет на три уровня выше к папке styles/abstracts
   - 'as *' позволяет использовать переменные без префикса namespace

2. .modalOverlay - полупрозрачный оверлей:
   - position: absolute - перекрывает весь контент
   - width: 100vw, height: 100vh - занимает всю область просмотра
   - background: rgba(0, 0, 0, 0.85) - темный полупрозрачный фон
   - z-index: 100 - высокий уровень для отображения поверх других элементов

3. .modalBackground - контейнер для центрирования:
   - display: flex с align-items и justify-content - центрирование модального окна
   - padding: 24px - отступы от краев экрана
   - overflow-y: auto - разрешение прокрутки на маленьких экранах

4. .formContainer - основное модальное окно:
   - position: relative - для абсолютного позиционирования внутренних элементов
   - width: 400px - фиксированная ширина на десктопах
   - max-width: calc(100% - 48px) - адаптация с сохранением отступов
   - background-color: rgba(255, 255, 255, 0.80) - полупрозрачный белый фон
   - box-shadow - тень для эффекта глубины и отделения от фона

5. БЭМ-нотация в именах классов:
   - &__closeModal - элемент закрытия модального окна
   - &__error - элемент отображения ошибок
   - &__form - элемент формы
   - &__form__title - элемент заголовка внутри формы

6. Интерактивные элементы:
   - &__closeModal:hover - эффект наведения на кнопку закрытия
   - transform: scale(1.1) - плавное увеличение при наведении
   - transition: transform 0.2s ease-in-out - плавная анимация

7. Адаптивный дизайн через медиа-запросы:
   - @media (max-width: $breakpoint-lg) - для больших планшетов
   - @media (max-width: $breakpoint-md) - для планшетов
   - @media (max-width: $breakpoint-sm) - для мобильных устройств

8. Мобильная адаптация:
   - width: 100% - занимает всю ширину экрана
   - border-radius: 12px 12px 0 0 - скругление только верхних углов
   - box-shadow: 0 -8px 30px - тень сверху для эффекта "всплывания снизу"
   - align-items: stretch - растягивание элементов формы на всю ширину

9. Переменные SCSS (предполагаемое содержание):
   - $danger-color - красный цвет для ошибок
   - $breakpoint-lg, $breakpoint-md, $breakpoint-sm - брейкпоинты для адаптивного дизайна

10. Особенности доступности:
    - Высокие z-index значения для правильного наслоения
    - Плавные переходы для интерактивных элементов
    - Адаптация для различных размеров экранов

11. UX решения:
    - Полупрозрачный фон для фокусировки на модальном окне
    - Интерактивная кнопка закрытия с визуальной обратной связью
    - Центрирование модального окна на всех устройствах
    - Прокрутка контента на маленьких экранах

12. Производительность:
    - transform вместо width/height для анимаций (лучшая производительность)
    - box-sizing: border-box для упрощения расчетов размеров
    - Медиа-запросы для оптимизации на разных устройствах
*/